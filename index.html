<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Tahmin Aracı</title>
<script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#2563eb',
          },
        },
      },
      plugins: [daisyui],
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/daisyui@2.51.5/dist/full.js"></script>
  <style>
    body{font-family:system-ui,Arial, sans-serif;background:#f8fafc;
         display:flex;justify-content:center;padding:2rem;}
    .card{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0001;
          padding:2rem;max-width:420px;width:100%;}
    label{display:block;margin-top:.7rem;font-weight:600}
    input{width:100%;padding:.6rem;border:1px solid #cbd5e1;border-radius:8px}
    button{margin-top:1.3rem;width:100%;padding:.7rem;border:0;border-radius:8px;
           background:#2563eb;color:#fff;font-weight:700;cursor:pointer}
    #result{margin-top:1.3rem;font-size:1.1rem;font-weight:600;text-align:center}
  </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
  <!-- DaisyUI Kart Başlangıcı -->
  <div class="card w-96 bg-white shadow-xl">
    <div class="card-body">
      <h2 class="card-title text-center mb-4">Tahmin Formu</h2>
      <form id="f" class="space-y-4">
        <div>
          <label for="x1" class="block font-medium mb-1">X1</label>
          <input id="x1" type="number" step="any" required
                 class="input input-bordered w-full" />
        </div>
        <div>
          <label for="x2" class="block font-medium mb-1">X2</label>
          <input id="x2" type="number" step="any" required
                 class="input input-bordered w-full" />
        </div>
        <div>
          <label for="x3" class="block font-medium mb-1">X3</label>
          <input id="x3" type="number" step="any" required
                 class="input input-bordered w-full" />
        </div>
        <div>
          <label for="x4" class="block font-medium mb-1">X4</label>
          <input id="x4" type="number" step="any" required
                 class="input input-bordered w-full" />
        </div>
        <div>
          <label for="x5" class="block font-medium mb-1">X5</label>
          <input id="x5" type="number" step="any" required
                 class="input input-bordered w-full" />
        </div>
        <div>
          <label for="x6" class="block font-medium mb-1">X6</label>
          <input id="x6" type="number" step="any" required
                 class="input input-bordered w-full" />
        </div>
        <div>
          <label for="x7" class="block font-medium mb-1">X7</label>
          <input id="x7" type="number" step="any" required
                 class="input input-bordered w-full" />
        </div>
        <button type="submit"
                class="btn btn-primary w-full mt-2">Gönder</button>
      </form>
      <div id="result" class="mt-4 text-center text-lg font-semibold"></div>
    </div>
  </div>
  <!-- DaisyUI Kart Sonu -->

  <script>
    const form = document.getElementById('f');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const body = {
        x1: +x1.value, x2: +x2.value, x3: +x3.value,
        x4: +x4.value, x5: +x5.value, x6: +x6.value, x7: +x7.value
      };
      try {
        const r = await fetch("https://forecast-site-api.onrender.com/predict", {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify(body)
        });
        if (!r.ok) throw new Error(r.status);
        const data = await r.json();
        const sonuc = (data.result === 'A')
          ? '✅ Tebrikler, pozitif senaryodasınız.'
          : '⚠️ Üzgünüm, hedefin altındasınız.';
        document.getElementById('result').textContent = sonuc;
      } catch (err) {
        document.getElementById('result')
                .textContent = '❌ Bir hata oluştu: ' + err.message;
      }
    });
  </script>
</body>
</html>

